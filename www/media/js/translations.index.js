
(function(){$(function(){var hide_edit_form;$("a.inline_edit").live('click',function(e){var fields,html,key,parent,value;e.preventDefault();parent=$(this).parent();$(this).remove();fields={'identifier':'identifier','language-id':'language_id'};html="<form class=\"submit_translation\" action=\""+url_base+"translations/update\" method=\"POST\">";for(key in fields){value=fields[key];html+="<input name=\""+value+"\" type=\"hidden\" value=\""+(parent.data(key))+"\"/>";}
html+="    <textarea class=\"hidden\" name=\"old-translation\">"+(parent.html())+"</textarea>    <textarea name=\"translation\">"+(parent.html())+"</textarea>    <input type=\"submit\" value=\""+(__('save'))+"\"/>    <span class=\"label label-inverse cancel\"><i class=\"icon-minus-sign\"></i> "+(__('cancel'))+" </span>    </form>";parent.html(html);return $('textarea[name="translation"]',parent).resizable();});$('form.submit_translation').live('submit',function(e){var area,self;self=$(this);area=self.closest("div.editable-area");self.ajaxSubmit({success:function(){hide_edit_form(self);area.append("<span class=\"ok\">ok</span>");return area.find('span.ok').fadeOut(2000);}});return false;});hide_edit_form=function(object){var area,self,text;area=object.closest("div.editable-area");self=$('form.submit_translation',area);text=$('textarea[name="old-translation"]',area).text();if(!text)text=$('textarea[name="translation"]',area).text();self.remove();return area.append(""+text+"<a href=\"#\" class=\"inline_edit\">      <span class=\"label label-warning\">        <i class=\"icon-pencil\"></i>        Edit      </span>    </a>");};$("span.cancel").live("click",function(){return hide_edit_form($(this));});return $('a.inline_remove').live_confirm({confirm:function(something,link){return link.parents('tr').remove();}});});}).call(this);